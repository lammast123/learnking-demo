@model IEnumerable<LearnKing.Api.Models.TaskItem>
@{
    ViewData["Title"] = "Tasks";
}
<div class="d-flex justify-content-between mb-3">
  <h2>Tasks</h2>
  <a class="btn btn-primary" href="/Task/Create">Create Task</a>
</div>
<table class="table table-striped">
  <thead><tr><th>Id</th><th>Title</th><th>Status</th><th>Due</th><th>Actions</th></tr></thead>
  <tbody>
  @foreach(var t in Model) {
    <tr>
      <td>@t.Id</td>
      <td>@t.Title</td>
      <td>@t.Status</td>
      <td>@(t.DueDate?.ToLocalTime().ToString("yyyy-MM-dd") ?? "-")</td>
      <td>
        <a class="btn btn-sm btn-secondary" href="/Task/Edit/@t.Id">Edit</a>
        <form method="post" action="/Task/Delete/@t.Id" style="display:inline" onsubmit="return confirm('Delete?')">
          <input type="hidden" name="id" value="@t.Id" />
          <button class="btn btn-sm btn-danger">Delete</button>
        </form>
      </td>
    </tr>
  }
  </tbody>
</table>